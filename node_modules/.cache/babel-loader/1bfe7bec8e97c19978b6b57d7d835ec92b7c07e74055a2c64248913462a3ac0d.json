{"ast":null,"code":"import _slicedToArray from\"D:/Projeto-MoreLife/morelife/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./cssRoutes/info.module.css';import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';import FormPerson from'../components/dashForms/formPerson';import FormAccount from'../components/dashForms/formAccount';import FormResp from'../components/dashForms/formResp';import CardRespon from'../components/dashboard/cardRespon';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Info(){var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),allRespon=_useState4[0],setAllRespon=_useState4[1];var id=parseInt(localStorage.getItem(\"id\"));var navigate=useNavigate();useEffect(function(){fetch(\"http://localhost:5000/users/\".concat(id),{method:'GET',headers:{'Content-Type':'application/json'}}).then(function(resp){return resp.json();}).then(function(data){setUser(data);}).catch(function(err){return console.log(err);});},[id]);useEffect(function(){fetch(\"http://localhost:5000/responsaveis\",{method:'GET',headers:{'Content-Type':'application/json'}}).then(function(resp){return resp.json();}).then(function(data){setAllRespon(data);}).catch(function(err){return console.log(err);});},[id]);function updatePerson(user){fetch(\"http://localhost:5000/users/\".concat(id),{method:'PATCH',headers:{'Content-Type':'application/json'},body:JSON.stringify(user)}).then(function(resp){return resp.json();}).then(function(data){localStorage.setItem(\"name\",user.user_name);localStorage.setItem(\"sbName\",user.user_sbname);localStorage.setItem(\"age\",user.user_age);navigate(\"/dashboard/\".concat(user.user_name,\"/info\"));}).catch(function(err){return console.log(err);});}function updateAccount(user){fetch(\"http://localhost:5000/users/\".concat(id),{method:'PATCH',headers:{'Content-Type':'application/json'},body:JSON.stringify(user)}).then(function(resp){return resp.json();}).then(function(data){console.log(data);}).catch(function(err){return console.log(err);});}function addRespon(respon){fetch(\"http://localhost:5000/responsaveis\",{method:\"POST\",headers:{'Content-Type':'application/json'},body:JSON.stringify(respon)}).then(function(resp){return resp.json();}).then(function(data){return console.log(data);}).catch(function(err){return console.log(err);});}return/*#__PURE__*/_jsxs(\"div\",{className:styles.infoContainer,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles.forms,children:[/*#__PURE__*/_jsx(FormPerson,{txtBtn:\"Atualizar\",handleSubmit:updatePerson,dataUser:user}),/*#__PURE__*/_jsx(FormAccount,{txtBtn:\"Atualizar\",handleSubmit:updateAccount,dataUser:user}),/*#__PURE__*/_jsx(FormResp,{txtBtn:\"Adicionar\",handleSubmit:addRespon,dataUser:user})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.titleContainer,children:/*#__PURE__*/_jsx(\"h2\",{children:\"Respons\\xE1veis\"})}),/*#__PURE__*/_jsx(\"div\",{className:styles.responContainer,children:allRespon.map(function(respon){if(respon.id_user===id){return/*#__PURE__*/_jsx(CardRespon,{name:respon.name,cell:respon.cell},respon.id);}})})]});}export default Info;","map":{"version":3,"names":["styles","useState","useEffect","useNavigate","FormPerson","FormAccount","FormResp","CardRespon","jsx","_jsx","jsxs","_jsxs","Info","_useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","allRespon","setAllRespon","id","parseInt","localStorage","getItem","navigate","fetch","concat","method","headers","then","resp","json","data","catch","err","console","log","updatePerson","body","JSON","stringify","setItem","user_name","user_sbname","user_age","updateAccount","addRespon","respon","className","infoContainer","children","forms","txtBtn","handleSubmit","dataUser","titleContainer","responContainer","map","id_user","name","cell"],"sources":["D:/Projeto-MoreLife/morelife/src/routes/info.js"],"sourcesContent":["import styles from './cssRoutes/info.module.css'\r\n\r\nimport {useState, useEffect} from 'react'\r\nimport {useNavigate} from 'react-router-dom'\r\n\r\nimport FormPerson from '../components/dashForms/formPerson'\r\nimport FormAccount from '../components/dashForms/formAccount'\r\nimport FormResp from '../components/dashForms/formResp'\r\nimport CardRespon from '../components/dashboard/cardRespon'\r\n\r\nfunction Info(){\r\n    const [user, setUser] = useState({})\r\n    const [allRespon, setAllRespon] = useState([])\r\n    const id = parseInt(localStorage.getItem(\"id\"))\r\n    const navigate = useNavigate()\r\n\r\n    useEffect(() =>{\r\n        fetch(`http://localhost:5000/users/${id}`,{\r\n            method:'GET',\r\n            headers:{\r\n                'Content-Type':'application/json'\r\n            }\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n            setUser(data)\r\n        })\r\n        .catch(err => console.log(err))\r\n    }, [id])\r\n\r\n    useEffect(() => {\r\n        fetch(\"http://localhost:5000/responsaveis\",{\r\n            method:'GET',\r\n            headers: {\r\n                'Content-Type':'application/json'\r\n            }\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n            setAllRespon(data)\r\n        })\r\n        .catch(err => console.log(err))\r\n    }, [id])\r\n\r\n    function updatePerson(user) {\r\n        fetch(`http://localhost:5000/users/${id}`, {\r\n            method:'PATCH',\r\n            headers:{\r\n                'Content-Type':'application/json'\r\n            },\r\n            body: JSON.stringify(user)\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n            localStorage.setItem(\"name\", user.user_name)\r\n            localStorage.setItem(\"sbName\", user.user_sbname)\r\n            localStorage.setItem(\"age\", user.user_age)\r\n            navigate(`/dashboard/${user.user_name}/info`)\r\n            \r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    function updateAccount(user) {\r\n        fetch(`http://localhost:5000/users/${id}`,{\r\n            method:'PATCH',\r\n            headers:{\r\n                'Content-Type':'application/json'\r\n            },\r\n            body: JSON.stringify(user)\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(data => {\r\n            console.log(data)\r\n        })\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    function addRespon(respon) {\r\n        fetch(\"http://localhost:5000/responsaveis\",{\r\n            method:\"POST\",\r\n            headers:{\r\n                'Content-Type':'application/json'\r\n            },\r\n            body: JSON.stringify(respon)\r\n        })\r\n        .then(resp => resp.json())\r\n        .then(data => console.log(data))\r\n        .catch(err => console.log(err))\r\n    }\r\n\r\n    return (\r\n        <div className={styles.infoContainer}>\r\n            <div className={styles.forms}>\r\n                <FormPerson \r\n                    txtBtn=\"Atualizar\"\r\n                    handleSubmit={updatePerson}\r\n                    dataUser={user}\r\n                />\r\n                <FormAccount \r\n                    txtBtn=\"Atualizar\"\r\n                    handleSubmit={updateAccount}\r\n                    dataUser={user}\r\n                />\r\n                <FormResp\r\n                    txtBtn=\"Adicionar\"\r\n                    handleSubmit={addRespon}\r\n                    dataUser={user}\r\n                />\r\n            </div>\r\n            <div className={styles.titleContainer}>\r\n                <h2>Respons√°veis</h2>\r\n            </div>\r\n            <div className={styles.responContainer}>\r\n                {allRespon.map(respon =>{\r\n                    if(respon.id_user === id){\r\n                        return(\r\n                            <CardRespon\r\n                                name={respon.name}\r\n                                cell={respon.cell}\r\n                                key={respon.id}\r\n                            />\r\n                        )\r\n                    }\r\n                })}\r\n            </div>\r\n            \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Info"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}