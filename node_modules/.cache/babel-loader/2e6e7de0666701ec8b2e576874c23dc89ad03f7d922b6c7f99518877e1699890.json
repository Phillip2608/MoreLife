{"ast":null,"code":"import _defineProperty from\"D:/Projeto-MoreLife/morelife/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Projeto-MoreLife/morelife/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Projeto-MoreLife/morelife/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./cssForms/forms.module.css';import{useState,useEffect}from'react';import ButtonForm from'../form/buttonForm';import Input from'../form/input';import Select from'../form/select';import Message from'../layout/message';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FormPerson(_ref){var _user$user_sexo;var handleSubmit=_ref.handleSubmit,txtBtn=_ref.txtBtn,dataUser=_ref.dataUser;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),sexo=_useState4[0],setSexo=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),type=_useState6[0],setType=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),message=_useState8[0],setMessage=_useState8[1];useEffect(function(){setUser(dataUser);},[dataUser]);useEffect(function(){fetch(\"http://localhost:5000/sexos\",{method:\"GET\",headers:{'Content-Type':'application/json'}}).then(function(resp){return resp.json();}).then(function(data){setSexo(data);}).catch(function(err){return console.log(err);});},[]);function validateForm(user){setMessage('');if(user.user_name===''||user.user_sbname===''||user.user_age===''){setMessage('É necessário preencher todos os campos!');setType('error');return false;}if(parseInt(user.user_age)<5){setMessage('A idade mínima é de 5 anos!');setType('error');return false;}if(user.user_sexo===undefined||user.user_sexo.id==='Selecione uma opção'){setMessage('É necessário selecionar uma das opções!');setType('error');return false;}setMessage('Atualização feita com sucesso!');setType('success');return handleSubmit(user);}function OnChange(e){setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));setMessage('');if(e.target.value===''){setMessage('É necessário preencher todos os campos!');setType('error');return false;}}function handleSexo(e){setUser(_objectSpread(_objectSpread({},user),{},{user_sexo:{id:e.target.value,name:e.target.options[e.target.selectedIndex].text}}));setMessage('');}function submit(e){e.preventDefault();validateForm(user);}return/*#__PURE__*/_jsxs(\"div\",{className:styles.formContainer,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Dados Pessoais\"}),message&&/*#__PURE__*/_jsx(Message,{msg:message,type:type}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,children:[/*#__PURE__*/_jsx(Input,{type:\"text\",text:\"Nome\",nameInput:\"user_name\",placeholder:\"Digite seu nome\",value:user.user_name?user.user_name:'',handleOnChange:OnChange}),/*#__PURE__*/_jsx(Input,{type:\"text\",text:\"Sobrenome\",nameInput:\"user_sbname\",placeholder:\"Digite seu sobrenome\",value:user.user_sbname?user.user_sbname:'',handleOnChange:OnChange}),/*#__PURE__*/_jsx(Input,{type:\"number\",text:\"Idade\",nameInput:\"user_age\",placeholder:\"Digite sua idade\",value:user.user_age?user.user_age:'',handleOnChange:OnChange}),/*#__PURE__*/_jsx(Select,{nameSelect:\"user_sexo\",options:sexo,text:\"Sexo\",value:user===null||user===void 0?void 0:(_user$user_sexo=user.user_sexo)===null||_user$user_sexo===void 0?void 0:_user$user_sexo.id,handleOnChange:handleSexo}),/*#__PURE__*/_jsx(\"div\",{className:styles.btnContainer,children:/*#__PURE__*/_jsx(ButtonForm,{text:txtBtn})})]})]});}export default FormPerson;","map":{"version":3,"names":["styles","useState","useEffect","ButtonForm","Input","Select","Message","jsx","_jsx","jsxs","_jsxs","FormPerson","_ref","_user$user_sexo","handleSubmit","txtBtn","dataUser","_useState","_useState2","_slicedToArray","user","setUser","_useState3","_useState4","sexo","setSexo","_useState5","_useState6","type","setType","_useState7","_useState8","message","setMessage","fetch","method","headers","then","resp","json","data","catch","err","console","log","validateForm","user_name","user_sbname","user_age","parseInt","user_sexo","undefined","id","OnChange","e","_objectSpread","_defineProperty","target","name","value","handleSexo","options","selectedIndex","text","submit","preventDefault","className","formContainer","children","msg","onSubmit","nameInput","placeholder","handleOnChange","nameSelect","btnContainer"],"sources":["D:/Projeto-MoreLife/morelife/src/components/dashForms/formPerson.js"],"sourcesContent":["import styles from './cssForms/forms.module.css'\r\n\r\nimport {useState, useEffect} from 'react'\r\n\r\nimport ButtonForm from '../form/buttonForm'\r\nimport Input from '../form/input'\r\nimport Select from '../form/select'\r\nimport Message from '../layout/message'\r\n\r\nfunction FormPerson({handleSubmit, txtBtn, dataUser}){\r\n    const [user, setUser] = useState({})\r\n    const [sexo, setSexo] = useState([])\r\n    const [type, setType] = useState(\"\")\r\n    const [message, setMessage] = useState(\"\")\r\n\r\n    useEffect(() => {\r\n        setUser(dataUser)\r\n    }, [dataUser])\r\n\r\n    useEffect(() => {\r\n        fetch(\"http://localhost:5000/sexos\", {\r\n            method: \"GET\",\r\n            headers: {\r\n                'Content-Type': 'application/json'\r\n            }\r\n        })\r\n            .then((resp) => resp.json())\r\n            .then((data) => {\r\n                setSexo(data)\r\n            })\r\n            .catch(err => console.log(err))\r\n        \r\n        \r\n    }, [])\r\n\r\n    function validateForm(user) {\r\n        setMessage('')\r\n        if (user.user_name === '' || \r\n            user.user_sbname === '' || \r\n            user.user_age === ''\r\n        ) {\r\n            setMessage('É necessário preencher todos os campos!')\r\n            setType('error')\r\n            return false\r\n        }\r\n        if (parseInt(user.user_age) < 5) {\r\n            setMessage('A idade mínima é de 5 anos!')\r\n            setType('error')\r\n            return false\r\n        }\r\n\r\n        if (user.user_sexo === undefined || user.user_sexo.id === 'Selecione uma opção') {\r\n            setMessage('É necessário selecionar uma das opções!')\r\n            setType('error')\r\n            return false\r\n        }\r\n\r\n        setMessage('Atualização feita com sucesso!')\r\n        setType('success')\r\n        return handleSubmit(user)\r\n    }\r\n    \r\n    function OnChange(e){\r\n        setUser({ ...user, [e.target.name]: e.target.value })\r\n        setMessage('')\r\n        if (e.target.value === '') {\r\n            setMessage('É necessário preencher todos os campos!')\r\n            setType('error')\r\n            return false\r\n        }\r\n    }\r\n\r\n    function handleSexo(e) {\r\n        setUser({\r\n            ...user, user_sexo: {\r\n                id: e.target.value,\r\n                name: e.target.options[e.target.selectedIndex].text\r\n            }\r\n        })\r\n        setMessage('')\r\n    }\r\n\r\n    function submit(e) {\r\n        e.preventDefault()\r\n        validateForm(user)\r\n    }\r\n\r\n    return (\r\n        <div className={styles.formContainer}>\r\n            <h2>Dados Pessoais</h2>\r\n            {message && <Message msg={message} type={type} />}\r\n            <form onSubmit={submit}>\r\n                <Input\r\n                    type=\"text\"\r\n                    text=\"Nome\"\r\n                    nameInput=\"user_name\"\r\n                    placeholder=\"Digite seu nome\"\r\n                    value={user.user_name ? user.user_name : ''}\r\n                    handleOnChange={OnChange}\r\n                />\r\n                <Input\r\n                    type=\"text\"\r\n                    text=\"Sobrenome\"\r\n                    nameInput=\"user_sbname\"\r\n                    placeholder=\"Digite seu sobrenome\"\r\n                    value={user.user_sbname ? user.user_sbname : ''}\r\n                    handleOnChange={OnChange}\r\n                />\r\n                <Input\r\n                    type=\"number\"\r\n                    text=\"Idade\"\r\n                    nameInput=\"user_age\"\r\n                    placeholder=\"Digite sua idade\"\r\n                    value={user.user_age ? user.user_age : ''}\r\n                    handleOnChange={OnChange}\r\n                />\r\n                <Select\r\n                    nameSelect=\"user_sexo\"\r\n                    options={sexo}\r\n                    text=\"Sexo\"\r\n                    value={user?.user_sexo?.id}\r\n                    handleOnChange={handleSexo}\r\n                />\r\n                <div className={styles.btnContainer}>\r\n                    <ButtonForm text={txtBtn}/>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FormPerson"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}