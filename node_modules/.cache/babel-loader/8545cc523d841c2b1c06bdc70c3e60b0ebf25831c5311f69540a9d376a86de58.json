{"ast":null,"code":"import _slicedToArray from\"D:/Projeto-MoreLife/morelife/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{useNavigate}from'react-router-dom';//Import Components\nimport Container from'../components/layout/container';import LoginForm from'../components/loginForm/loginForm';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),allUsers=_useState2[0],setAllUsers=_useState2[1];var navigate=useNavigate();useEffect(function(){fetch(\"http://localhost:5000/users\",{method:\"GET\",headers:{'Content-Type':'application/json'}}).then(function(resp){return resp.json();}).then(function(data){setAllUsers(data);}).catch(function(err){return console.log(err);});},[]);function createSession(user){allUsers.map(function(allUser){if(allUser.user_email===user.email&&allUser.user_pass===user.pass){setLocalStorage(\"name\",allUser.user_name);setLocalStorage(\"sbName\",allUser.user_sbname);setLocalStorage(\"id\",allUser.id);return navigate(\"/dashboard/\".concat(allUser.user_name));}});}function setLocalStorage(key,value){return localStorage.setItem(key,value);}return/*#__PURE__*/_jsxs(Container,{customClass:\"center\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(LoginForm,{btnText:\"Entrar\",handleSubmit:createSession})]});}export default Login;","map":{"version":3,"names":["useState","useEffect","useNavigate","Container","LoginForm","jsx","_jsx","jsxs","_jsxs","Login","_useState","_useState2","_slicedToArray","allUsers","setAllUsers","navigate","fetch","method","headers","then","resp","json","data","catch","err","console","log","createSession","user","map","allUser","user_email","email","user_pass","pass","setLocalStorage","user_name","user_sbname","id","concat","key","value","localStorage","setItem","customClass","children","btnText","handleSubmit"],"sources":["D:/Projeto-MoreLife/morelife/src/routes/login.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\n\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\n//Import Components\r\nimport Container from '../components/layout/container'\r\nimport LoginForm from '../components/loginForm/loginForm'\r\nfunction Login() {\r\n    const [allUsers, setAllUsers] = useState([])\r\n    const navigate = useNavigate()\r\n    \r\n    useEffect(() => {\r\n        fetch(\"http://localhost:5000/users\", {\r\n            method:\"GET\",\r\n            headers:{\r\n                'Content-Type':'application/json'\r\n            }\r\n        })\r\n            .then(resp => resp.json())\r\n            .then(data => {\r\n                setAllUsers(data)\r\n            })\r\n            .catch(err => console.log(err))\r\n    }, [])\r\n\r\n    function createSession(user){\r\n        allUsers.map(allUser => {\r\n            if(allUser.user_email === user.email && allUser.user_pass === user.pass){\r\n                setLocalStorage(\"name\", allUser.user_name)\r\n                setLocalStorage(\"sbName\", allUser.user_sbname)\r\n                setLocalStorage(\"id\", allUser.id)\r\n                \r\n                return navigate(`/dashboard/${allUser.user_name}`)\r\n            }\r\n        })\r\n    }\r\n\r\n    function setLocalStorage(key, value){\r\n        return localStorage.setItem(key, value)\r\n    }\r\n\r\n    return (\r\n        <Container customClass=\"center\">\r\n            <h1>Login</h1>\r\n            <LoginForm btnText=\"Entrar\" handleSubmit={createSession} />\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Login"],"mappings":"kHAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE3C,OAASC,WAAW,KAAQ,kBAAkB,CAE9C;AACA,MAAO,CAAAC,SAAS,KAAM,gCAAgC,CACtD,MAAO,CAAAC,SAAS,KAAM,mCAAmC,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBACzD,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACb,IAAAC,SAAA,CAAgCV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAArCG,QAAQ,CAAAF,UAAA,IAAEG,WAAW,CAAAH,UAAA,IAC5B,GAAM,CAAAI,QAAQ,CAAGb,WAAW,CAAC,CAAC,CAE9BD,SAAS,CAAC,UAAM,CACZe,KAAK,CAAC,6BAA6B,CAAE,CACjCC,MAAM,CAAC,KAAK,CACZC,OAAO,CAAC,CACJ,cAAc,CAAC,kBACnB,CACJ,CAAC,CAAC,CACGC,IAAI,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,IAAI,CAAC,CAAC,GAAC,CACzBF,IAAI,CAAC,SAAAG,IAAI,CAAI,CACVR,WAAW,CAACQ,IAAI,CAAC,CACrB,CAAC,CAAC,CACDC,KAAK,CAAC,SAAAC,GAAG,QAAI,CAAAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACvC,CAAC,CAAE,EAAE,CAAC,CAEN,QAAS,CAAAG,aAAaA,CAACC,IAAI,CAAC,CACxBf,QAAQ,CAACgB,GAAG,CAAC,SAAAC,OAAO,CAAI,CACpB,GAAGA,OAAO,CAACC,UAAU,GAAKH,IAAI,CAACI,KAAK,EAAIF,OAAO,CAACG,SAAS,GAAKL,IAAI,CAACM,IAAI,CAAC,CACpEC,eAAe,CAAC,MAAM,CAAEL,OAAO,CAACM,SAAS,CAAC,CAC1CD,eAAe,CAAC,QAAQ,CAAEL,OAAO,CAACO,WAAW,CAAC,CAC9CF,eAAe,CAAC,IAAI,CAAEL,OAAO,CAACQ,EAAE,CAAC,CAEjC,MAAO,CAAAvB,QAAQ,eAAAwB,MAAA,CAAeT,OAAO,CAACM,SAAS,CAAE,CAAC,CACtD,CACJ,CAAC,CAAC,CACN,CAEA,QAAS,CAAAD,eAAeA,CAACK,GAAG,CAAEC,KAAK,CAAC,CAChC,MAAO,CAAAC,YAAY,CAACC,OAAO,CAACH,GAAG,CAAEC,KAAK,CAAC,CAC3C,CAEA,mBACIjC,KAAA,CAACL,SAAS,EAACyC,WAAW,CAAC,QAAQ,CAAAC,QAAA,eAC3BvC,IAAA,OAAAuC,QAAA,CAAI,OAAK,CAAI,CAAC,cACdvC,IAAA,CAACF,SAAS,EAAC0C,OAAO,CAAC,QAAQ,CAACC,YAAY,CAAEpB,aAAc,CAAE,CAAC,EACpD,CAAC,CAEpB,CAEA,cAAe,CAAAlB,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}