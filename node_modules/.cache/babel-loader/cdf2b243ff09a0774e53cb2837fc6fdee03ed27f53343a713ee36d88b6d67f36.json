{"ast":null,"code":"import _defineProperty from\"D:/Projeto-MoreLife/morelife/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"D:/Projeto-MoreLife/morelife/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"D:/Projeto-MoreLife/morelife/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import styles from'./cssForms/forms.module.css';import{useState}from'react';import ButtonForm from'../form/buttonForm';import Input from'../form/input';import Message from'../layout/message';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function FormResp(_ref){var handleSubmit=_ref.handleSubmit,txtBtn=_ref.txtBtn,dataUser=_ref.dataUser;var _useState=useState({'name':'','age':'','email':'','cell':''}),_useState2=_slicedToArray(_useState,2),respon=_useState2[0],setRespon=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),type=_useState6[0],setType=_useState6[1];var user=dataUser;var regexEmail=/\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/;function OnChange(e){setRespon(_objectSpread(_objectSpread({},respon),{},_defineProperty({},e.target.name,e.target.value)));setMessage('');}function validateForm(){if(respon.name===''||respon.age===''||respon.email===''||respon.cell===''){setMessage('É necessário preencher todos os campos!');setType('error');return false;}if(respon.name.length<3){setMessage('O nome deve ter no mínimo 3 caracteres');setType('error');return false;}if(parseInt(respon.age)<18){setMessage('O responsável deve ter no mínimo 18 anos!');setType('error');return false;}if(respon.email===user.user_email){setMessage('O email do responsável deve ser diferente do usuário!');setType('error');return false;}if(regexEmail.test(respon.email)===false){setMessage('O email deve existir!');setType('error');return false;}if(respon.cell.length<11||parseInt(respon.cell)<0||respon.cell.length>11){setMessage('O número de telefone deve existir!');setType('error');return false;}setMessage('Responsável adicionado com sucesso!');setType('success');respon.id_user=user.id;return handleSubmit(respon);}function submit(e){e.preventDefault();validateForm();}return/*#__PURE__*/_jsxs(\"div\",{className:styles.formContainer,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Dados do Respons\\xE1vel\"}),message&&/*#__PURE__*/_jsx(Message,{msg:message,type:type}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,children:[/*#__PURE__*/_jsx(Input,{type:\"text\",text:\"Nome do respons\\xE1vel\",nameInput:\"name\",placeholder:\"Digite o nome completo\",value:respon.name?respon.name:'',handleOnChange:OnChange}),/*#__PURE__*/_jsx(Input,{type:\"number\",text:\"Idade do respons\\xE1vel\",nameInput:\"age\",placeholder:\"Digite a idade do respons\\xE1vel\",value:respon.age?respon.age:'',handleOnChange:OnChange}),/*#__PURE__*/_jsx(Input,{type:\"email\",text:\"Email do respons\\xE1vel\",nameInput:\"email\",placeholder:\"Digite o email do respons\\xE1vel\",value:respon.email?respon.email:'',handleOnChange:OnChange}),/*#__PURE__*/_jsx(Input,{type:\"number\",text:\"N\\xFAmero do respons\\xE1vel\",nameInput:\"cell\",value:respon.cell?respon.cell:'',placeholder:\"(xx)xxxxx-xxxx\",handleOnChange:OnChange}),/*#__PURE__*/_jsx(\"div\",{className:styles.btnContainer,children:/*#__PURE__*/_jsx(ButtonForm,{text:txtBtn})})]})]});}export default FormResp;","map":{"version":3,"names":["styles","useState","ButtonForm","Input","Message","jsx","_jsx","jsxs","_jsxs","FormResp","_ref","handleSubmit","txtBtn","dataUser","_useState","_useState2","_slicedToArray","respon","setRespon","_useState3","_useState4","message","setMessage","_useState5","_useState6","type","setType","user","regexEmail","OnChange","e","_objectSpread","_defineProperty","target","name","value","validateForm","age","email","cell","length","parseInt","user_email","test","id_user","id","submit","preventDefault","className","formContainer","children","msg","onSubmit","text","nameInput","placeholder","handleOnChange","btnContainer"],"sources":["D:/Projeto-MoreLife/morelife/src/components/dashForms/formResp.js"],"sourcesContent":["import styles from './cssForms/forms.module.css'\r\n\r\nimport {useState} from 'react'\r\n\r\nimport ButtonForm from '../form/buttonForm'\r\nimport Input from '../form/input'\r\nimport Message from '../layout/message'\r\n\r\nfunction FormResp({handleSubmit, txtBtn, dataUser}){\r\n    const [respon, setRespon] = useState({\r\n        'name': '',\r\n        'age': '',\r\n        'email': '',\r\n        'cell': ''\r\n    })\r\n    const [message, setMessage] = useState(\"\")\r\n    const [type, setType] = useState(\"\")\r\n    const user = dataUser\r\n\r\n    const regexEmail = /\\w+([-+.']\\w+)*@\\w+([-.]\\w+)*\\.\\w+([-.]\\w+)*/;\r\n\r\n    function OnChange(e) {\r\n        setRespon({...respon,[e.target.name]:e.target.value})\r\n        setMessage('')\r\n    }\r\n\r\n    function validateForm() {\r\n        if(respon.name === '' || respon.age === '' || respon.email === '' || respon.cell === ''){\r\n            setMessage('É necessário preencher todos os campos!')\r\n            setType('error')\r\n            return false\r\n        }\r\n        if(respon.name.length < 3){\r\n            setMessage('O nome deve ter no mínimo 3 caracteres')\r\n            setType('error')\r\n            return false\r\n        }\r\n        if(parseInt(respon.age) < 18){\r\n            setMessage('O responsável deve ter no mínimo 18 anos!')\r\n            setType('error')\r\n            return false\r\n        }\r\n        if(respon.email === user.user_email){\r\n            setMessage('O email do responsável deve ser diferente do usuário!')\r\n            setType('error')\r\n            return false\r\n        }\r\n        if (regexEmail.test(respon.email) === false) {\r\n            setMessage('O email deve existir!')\r\n            setType('error')\r\n            return false\r\n        }\r\n        if(respon.cell.length < 11 || parseInt(respon.cell) < 0 || respon.cell.length > 11){\r\n            setMessage('O número de telefone deve existir!')\r\n            setType('error')\r\n            return false\r\n        }\r\n\r\n        setMessage('Responsável adicionado com sucesso!')\r\n        setType('success')\r\n        respon.id_user = user.id\r\n        return handleSubmit(respon)\r\n    }\r\n\r\n    function submit(e) {\r\n        e.preventDefault()\r\n        validateForm()\r\n    }\r\n    return (\r\n        <div className={styles.formContainer}>\r\n            <h2>Dados do Responsável</h2>\r\n            {message && <Message msg={message} type={type} />}\r\n            <form onSubmit={submit}>\r\n                <Input\r\n                    type=\"text\"\r\n                    text=\"Nome do responsável\"\r\n                    nameInput=\"name\"\r\n                    placeholder=\"Digite o nome completo\"\r\n                    value={respon.name ? respon.name : ''}\r\n                    handleOnChange={OnChange}\r\n                />\r\n                <Input\r\n                    type=\"number\"\r\n                    text=\"Idade do responsável\"\r\n                    nameInput=\"age\"\r\n                    placeholder=\"Digite a idade do responsável\"\r\n                    value={respon.age ? respon.age : ''}\r\n                    handleOnChange={OnChange}\r\n                />\r\n                <Input\r\n                    type=\"email\"\r\n                    text=\"Email do responsável\"\r\n                    nameInput=\"email\"\r\n                    placeholder=\"Digite o email do responsável\"\r\n                    value={respon.email ? respon.email : ''}\r\n                    handleOnChange={OnChange}\r\n                />\r\n                <Input\r\n                    type=\"number\"\r\n                    text=\"Número do responsável\"\r\n                    nameInput=\"cell\"\r\n                    value={respon.cell ? respon.cell : ''}\r\n                    placeholder=\"(xx)xxxxx-xxxx\"\r\n                    handleOnChange={OnChange}\r\n                />\r\n\r\n                <div className={styles.btnContainer}>\r\n                    <ButtonForm text={txtBtn}/>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default FormResp"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}